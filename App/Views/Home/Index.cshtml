@model App.ViewModels.UrlShortViewModel

@section Content {

<div class="jumbotron text-center">
    <div class="container">
        <div class="row">
            <div class="col col-lg-12 col-sm-12">
                <h1>Url Shortnr</h1>
                <p>Create your shortened URL here.</p>
            </div>
        </div>
    </div>
</div>

<div class="container">

    <div class="row">
        <div class="col-lg-12 text-center">
            <div class="well">

                @using (var UrlForm = Html.BeginForm("Create", ("Home"), FormMethod.Post, new { id = "url-form", @class = "form-inline center"}))
                {
                    @Html.AntiForgeryToken()

                    <div class="form-group">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.Name, new {id = "url-text", style="width:500px", @class = "form-control input-lg" })
                        </div>
                    </div>

                    <div class="btn-group" role="group" aria-label="...">
                        <button type="submit" id="submit-button" class="btn btn-default btn-success btn-lg">Submit!</button>
                    </div>
                    <div class="errorTxt" style="color:red">@ViewBag.Message</div>
                }
            </div>

            @if (!string.IsNullOrEmpty(Model.ShortKey))
            {
            <div class="row">
                <div class="col-lg-12">
                    <p>
                        <div id="body-results" class="body-contents">
                            <div class="well">  
                              @{
                                var url = string.Format("{0}/{1}", Request.Url.GetLeftPart(UriPartial.Authority), Model.ShortKey);   
                                  
                               }  
                              Your Short Url is: <h3><a href="@url">@url</a></h3>
                            </div>
                        </div>
                    </p>
                </div>
            </div>
            }

            <hr>
        </div>
    </div>
</div>
<hr>

}
